geom_text(aes(label='stat(count)'), stat='count', nudge_y=0.125, va='bottom')
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType +
geom_text(aes(label='stat(count)'), stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text(aes(label='stat(count)'), stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text( stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text( stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text( stat='count')
proportion_RoomType + geom_bar() +
geom_text(stat='count')
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.125)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.125, va='bottom')
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.125)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.5)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=0.5)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=3)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.3)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.8)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.8)
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.8)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.1)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', nudge_y=-0.1)
geom_text(aes(label=stat(count)), stat='count', position_nudge(y=-0.1)
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', position_nudge(y=-0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), position_nudge(y=-0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)),)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)))
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), position = position_nudge(y=-0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', postion = position_nudge(y=-0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', position = position_nudge(y=-0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', position = position_nudge(y=0.1))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), vjust = -0.3)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), vjust=-0.3)
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), vjust=-0.3)
proportion_RoomType + geom_bar() +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", fill="white") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", fill="steelblue") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", fill="steelgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", fill="green") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="darkblue", fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.5, fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=1 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), vjust = -0.3) +
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), vjust = -0.3) +
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(prop)*100), vjust = 0.3,format_string='{:.1f}% ')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(prop)*100), vjust = 0.3,format_string='{:.1f}% ')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(prop)*100), vjust = 0.3,format_string='{:.1f}% ')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(prop)*100), vjust = 0.3,format_string='{:.1f}% ')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)*100), vjust = 0.3,format_string='{:.1f}% ')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)*100), vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)*100), vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), vjust = 0.3)
# Analysis 2 :
# What is the proportion of each room type?
proportion_RoomType <- ggplot(listings, aes(room_type))
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = 0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = 0.8)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = 1)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
#geom_text(aes(label=stat(count)), vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = 1.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = 1.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = -.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = -.3, format_string='({:.1f}%))
# What is the proportion of each house size (# of bedroom)?
# What is the proportion of each neighborhood?
# What is the average availability over the next 30 days for each room type /
# house size / neighborhood?
# What is the average revenue over the next 30 days for each room type /
# house size / neighborhood?
# What is the distribution of availability over the next 30 days for each room type
# house size / neighborhood?
# What is the distribution of revenue over the next 30 days for each room type /
# house size / neighborhood?
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
geom_text( aes(label=stat(count)), stat='count', vjust = -.3, format_string='({:.1f}%)')
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=str(stat(count)),'  '), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=str(stat(count))+'  '), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=str(stat(count))+'  '), stat='count', vjust = -0.3)
geom_text(aes(label=stat(count), stat='count', vjust = -0.3)
geom_text(aes(label=stat(count), stat='count', vjust = -0.3)
geom_text(aes(label=stat(count), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
# geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
# geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),3)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
# geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
# geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),5)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
# geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + #♦geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
geom_text(aes(label=stat(count)), stat='count', vjust = 1.3)
proportion_RoomType +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType2<- ggplot(listings, aes(room_type))
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
# What is the proportion of each house size (# of bedroom)?
proportion_bedrooms<- ggplot(listings, aes(bedrooms))
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighborhood))
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
listings
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed))
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3)
proportion_RoomType2<- ggplot(listings, aes(room_type))
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25)
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
ylab("Percentage room_type")
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage room_type")
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage bedroom")
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
ylab("Percentage")
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed))
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
ylab("Percentage")
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + legendlab('room_type')
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + scale_fill_discrete(name = "room_type")
proportion_RoomType2 +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) + theme(legend.position = "none")
proportion_RoomType + geom_bar(color="blue", width=0.8 , fill="darkgreen") +
geom_text(aes(label=stat(count)), stat='count', vjust = -0.3) +
ylab("Percentage")
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
listings
unique(listings$neighbourhood_cleansed)
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
# What is the proportion of each house size (# of bedroom)?
proportion_bedrooms<- ggplot(listings, aes(bedrooms))
proportion_bedrooms +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
unique(listings$bedrooms)
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed))
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),4)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),1)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),3)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed), orientation="yAxisReversed")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
scale_y_discrete(guide = guide_axis(check.overlap = TRUE))+
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
#scale_y_discrete(guide = guide_axis(check.overlap = TRUE))+
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
renderPlot(width = "auto" height="auto")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
renderPlot(width = "auto", height="auto")
renderPlot({proportion_neighborhood}, height="auto")
renderPlot({proportion_neighborhood}, height="auto")
ggplotly(p)
library(plotly)
install plotly
install.packages("plotly")
library(plotly)
ggplotly(proportion_neighborhood)
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
#scale_y_discrete(guide = guide_axis(check.overlap = TRUE))+
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed), height = "auto")
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
#scale_y_discrete(guide = guide_axis(check.overlap = TRUE))+
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
# What is the proportion of each neighborhood?
proportion_neighborhood<- ggplot(listings, aes(neighbourhood_cleansed), height = 20)
proportion_neighborhood +
geom_bar(aes(y = (..count..)/sum(..count..), fill=factor(..x..)), stat= "count")+
geom_text(aes(label = scales::percent(round((..count..)/sum(..count..),2)),
y= ((..count..)/sum(..count..))), stat="count",
vjust = -.25) +
#scale_y_discrete(guide = guide_axis(check.overlap = TRUE))+
ylab("Percentage ") + theme(legend.position = "none") + coord_flip()
