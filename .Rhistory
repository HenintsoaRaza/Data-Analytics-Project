knitr::opts_chunk$set(echo = TRUE)
source("../Scripts/data_preparation_script.R", local = knitr::knit_global())
# Clean Environment
rm(list=ls())
## Once data for multiple cities are prepared
## We can read these data and concatenate them together into one dataframe
# Reading cleansed data
cities <- c("malaga", "mallorca", "sevilla")
data_dates <- c("2020-06-30", "2020-09-19", "2020-06-29")
# We are only interested in data between min_date and max_date
min_date <- '2020-05-01'
max_date <- '2020-11-01'
files_paths <- c()
# Read data in cities between min_date and max_date
for(city in cities){
file_dir <- file.path(".", "data_cleansed", city)
file_subdirs <- list.dirs(file_dir)
file_subdirs <- file_subdirs[-1]
for(file_subdir in file_subdirs){
if(file_subdir < file.path(file_dir, min_date) | file_subdir > file.path(file_dir, max_date)  )
file_subdirs = file_subdirs[file_subdirs != file_subdir]
}
files_paths <- c(files_paths, file_subdirs)
}
files_paths <- file.path(files_paths, "listings.csv")
listings <-
do.call(rbind,
lapply(files_paths, read.csv, row.names=1))
## Preprocess
listings$bedrooms <- ifelse(listings$bedrooms >= 5, "5+", listings$bedrooms)
head(listings)
install.packages("leaflet")
library(leaflet)
my_map <- leaflet() %>%
addTiles()
my_map
my_map <- my_map %>%
addMarkers(lat=48.8520514, lng=2.2839294,
popup="ECE Paris")
my_map
library(leaflet)
my_map <- leaflet() %>%
addTiles()
my_map
my_map <- my_map %>%
addMarkers(lat=48.8520514, lng=2.2839294,
popup="ECE Paris")
my_map
set.seed(2016-04-25)
df <- data.frame(lat = runif(20, min = 39.2, max = 39.3),
lng = runif(20, min = -76.6, max = -76.5))
df %>%
leaflet() %>%
addTiles() %>%
addMarkers()
set.seed(2016-04-25)
df <- data.frame(lat = runif(20, min = 39.2, max = 39.3),
lng = runif(20, min = -76.6, max = -76.5))
leaflet(df) %>%
addTiles() %>%
addMarkers()
set.seed(2016-04-25)
df <- data.frame(lat = runif(20, min = 39.2, max = 39.3),
lng = runif(20, min = -76.6, max = -76.5))
df %>%
leaflet() %>%
addTiles() %>%
addMarkers()
first10_rows = listings[0:10]
first10_rows
first10_rows = listings[0:10,:]
first10_rows = listings[0:10,]
first10_rows
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows %>%
leaflet() %>%
addTiles() %>%
addMarkers()
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:2] %>%
leaflet() %>%
addTiles() %>%
addMarkers()
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers()
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup = first10_rows[,0])
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup = first10_rows[,0])
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup = first10_rows[,1])
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup = first10_rows[,0:1])
first10_rows = listings[0:10,] %>% subset(select = c('neighbourhood_cleansed','latitude','longitude'))
first10_rows[,1:3] %>%
leaflet() %>%
addTiles() %>%
addMarkers(clusterOptions = markerClusterOptions(),popup = first10_rows[,0:1])
listings %>%
subset(select = c('neighbourhood_cleansed','latitude','longitude')) %>%
leaflet() %>%
addTiles() %>%
addMarkers(clusterOptions = markerClusterOptions(),popup = listings[,0:1])
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd()
setwd("C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/App/data_cleansed3/italy/bologna")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/Scripts/data_preparation_script_3.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd()
setwd("C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/App/data_cleansed3/italy/bologna")
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/Scripts/data_preparation_script_3.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
getwd()
getwd
getwd()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/App/replace_Na.R', echo=TRUE)
source('C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/App/replace_Na.R', echo=TRUE)
source('C:/Users/henin/Desktop/ING5/1. Data Analytics/Project - Airbnb Listings Analysis/Data-Analytics-Project/Scripts/data_preparation_script_3.R', echo=TRUE)
